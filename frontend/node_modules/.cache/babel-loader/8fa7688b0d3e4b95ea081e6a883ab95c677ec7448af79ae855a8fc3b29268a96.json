{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JATTIN\\\\OneDrive\\\\Desktop\\\\p2p-chat\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\");\nfunction App() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [mobile, setMobile] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [recipientEmail, setRecipientEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n\n  // Register user\n  const register = async () => {\n    try {\n      await axios.post(\"http://localhost:5000/register\", {\n        email,\n        mobile\n      });\n      alert(\"Registration successful\");\n    } catch (error) {\n      alert(\"Registration failed\");\n    }\n  };\n\n  // Login user\n  const login = () => {\n    if (users[email]) {\n      setLoggedIn(true);\n      socket.emit(\"authenticate\", email);\n    } else {\n      alert(\"User not found\");\n    }\n  };\n\n  // Send message\n  const sendMessage = () => {\n    if (recipientEmail && message) {\n      socket.emit(\"sendMessage\", {\n        recipientEmail,\n        senderEmail: email,\n        message\n      });\n      setChat([...chat, {\n        senderEmail: email,\n        message,\n        timestamp: new Date()\n      }]);\n      setMessage(\"\");\n    }\n  };\n\n  // Receive messages\n  useEffect(() => {\n    socket.on(\"message\", msg => {\n      setChat(prevChat => [...prevChat, msg]);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Mobile\",\n        value: mobile,\n        onChange: e => setMobile(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: register,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Recipient Email\",\n        value: recipientEmail,\n        onChange: e => setRecipientEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Message\",\n        value: message,\n        onChange: e => setMessage(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: chat.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [msg.senderEmail, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), \" \", msg.message, \" \", /*#__PURE__*/_jsxDEV(\"em\", {\n            children: [\"(\", new Date(msg.timestamp).toLocaleTimeString(), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 67\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"1Vj8yrWdvatUf1dniLTX+m79PAg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","io","jsxDEV","_jsxDEV","socket","App","_s","email","setEmail","mobile","setMobile","loggedIn","setLoggedIn","recipientEmail","setRecipientEmail","message","setMessage","chat","setChat","register","post","alert","error","login","users","emit","sendMessage","senderEmail","timestamp","Date","on","msg","prevChat","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","map","index","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/JATTIN/OneDrive/Desktop/p2p-chat/frontend/src/App.js"],"sourcesContent":["// App.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:5000\");\n\nfunction App() {\n  const [email, setEmail] = useState(\"\");\n  const [mobile, setMobile] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [recipientEmail, setRecipientEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n\n  // Register user\n  const register = async () => {\n    try {\n      await axios.post(\"http://localhost:5000/register\", { email, mobile });\n      alert(\"Registration successful\");\n    } catch (error) {\n      alert(\"Registration failed\");\n    }\n  };\n\n  // Login user\n  const login = () => {\n    if (users[email]) {\n      setLoggedIn(true);\n      socket.emit(\"authenticate\", email);\n    } else {\n      alert(\"User not found\");\n    }\n  };\n\n  // Send message\n  const sendMessage = () => {\n    if (recipientEmail && message) {\n      socket.emit(\"sendMessage\", { recipientEmail, senderEmail: email, message });\n      setChat([...chat, { senderEmail: email, message, timestamp: new Date() }]);\n      setMessage(\"\");\n    }\n  };\n\n  // Receive messages\n  useEffect(() => {\n    socket.on(\"message\", (msg) => {\n      setChat((prevChat) => [...prevChat, msg]);\n    });\n  }, []);\n\n  return (\n    <div>\n      {!loggedIn ? (\n        <div>\n          <h1>Register</h1>\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n          <input type=\"text\" placeholder=\"Mobile\" value={mobile} onChange={(e) => setMobile(e.target.value)} />\n          <button onClick={register}>Register</button>\n\n          <h1>Login</h1>\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n          <button onClick={login}>Login</button>\n        </div>\n      ) : (\n        <div>\n          <h1>Chat</h1>\n          <input type=\"email\" placeholder=\"Recipient Email\" value={recipientEmail} onChange={(e) => setRecipientEmail(e.target.value)} />\n          <input type=\"text\" placeholder=\"Message\" value={message} onChange={(e) => setMessage(e.target.value)} />\n          <button onClick={sendMessage}>Send</button>\n\n          <div>\n            {chat.map((msg, index) => (\n              <div key={index}>\n                <strong>{msg.senderEmail}:</strong> {msg.message} <em>({new Date(msg.timestamp).toLocaleTimeString()})</em>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}